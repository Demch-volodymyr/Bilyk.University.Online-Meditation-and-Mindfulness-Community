{% load socialaccount %}


<style>
    .teal {
        background: #009688;
        height: 75px;
    }

    .gray {
        background: #9e9e9e;
    }

    /* Top and Bottom borders go out */
    .teal .borderYtoX a:before,
    .teal .borderYtoX a:after {
        opacity: 0.5;
        height: 100%;
        width: 2px;
        content: '';
        background: #FFF;
        transition: all 0.3s;
        position: absolute;
    }

    .teal .borderYtoX a:before {
        left: 0px;
        top: 100px;
    }

    .teal .borderYtoX a:after {
        right: 0px;
        bottom: 100px;
    }

    .teal .borderYtoX a:hover:before,
    .teal .borderYtoX a:hover:after {
        opacity: 1;
        height: 2px;
        width: 100%;
    }

    .animated-link {
        display: inline-block;
        color: #FFF;
        text-decoration: none;
        font-size: 20px; /* Changed font-size */
        margin: 0px 10px;
        padding: 10px 10px;
        position: relative;
        z-index: 0;
        cursor: pointer;
    }

    .animated-link:before,
    .animated-link:after {
        opacity: 0.5;
        height: 100%;
        width: 2px;
        content: '';
        background: #FFF;
        transition: all 0.3s;
        position: absolute;
    }

    .animated-link:before {
        left: 0px;
        top: 0px;
    }

    .animated-link:after {
        right: 0px;
        bottom: 0px;
    }

    .animated-link:hover:before,
    .animated-link:hover:after {
        opacity: 1;
        height: 2px;
        width: 100%;
    }

    #navbar {
        text-align: center;
        padding: 20px 40px;
        margin: 0 auto;
    }

    .profile-info {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        margin-bottom: 20px;
    }

    .profile-picture {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #ccc;
        margin-right: 10px;
        background-image: url('/static/assets/images/user.jpeg');
        background-size: cover;
        background-position: center;
    }

    .account-name {
        color: #FFF;
        text-decoration: none;
        font-size: 20px; /* Changed font-size */
    }


    .loader {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1000;
    }

    .loader {
        width: 50px;
        aspect-ratio: 1;
        display: grid;
        border: 4px solid #0000;
        border-radius: 50%;
        border-right-color: #25b09b;
        animation: l15 1s infinite linear;
    }

    .loader::before,
    .loader::after {
        content: "";
        grid-area: 1/1;
        margin: 2px;
        border: inherit;
        border-radius: 50%;
        animation: l15 2s infinite;
    }

    .loader::after {
        margin: 8px;
        animation-duration: 3s;
    }

    @keyframes l15 {
        100% {
            transform: rotate(1turn)
        }
    }

    .loader-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999;
    }


</style>
<div id="navbar" class="container teal borderYtoX">
    <a href="/" class="animated-link">HOME</a>
    {% if user.is_authenticated %}
    <a href="/forum/" class="animated-link">Forum</a>
    <a href="/guided-meditation/" class="animated-link">Guided-Meditation</a>
    <a href="/calendar/" class="animated-link">Progress Tracking</a>
    <div class="profile-info">
        <a class="account-name animated-link" href="/profile/">{{ user.username }}</a>
        <a href="{% url 'logout' %}" id="logout-link" class="animated-link" method="post">Logout</a>
    </div>
    {% else %}
    <a href="{% provider_login_url 'google' %}?next=/" class="animated-link">Login with Google</a>
    {% endif %}
</div>



<script>
    document.getElementById('logout-link').addEventListener('click', function(event) {
        event.preventDefault();

        var form = document.createElement('form');
        form.method = 'POST';
        form.action = '{% url "logout" %}';


        var csrfInput = document.createElement('input');
        csrfInput.type = 'hidden';
        csrfInput.name = 'csrfmiddlewaretoken';
        csrfInput.value = '{{ csrf_token }}';


        form.appendChild(csrfInput);


        document.body.appendChild(form);
        form.submit();
    });
</script>
